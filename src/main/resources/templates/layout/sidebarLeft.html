<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      $("#href-category").on("click", function () {
        const data = $("#href-category")
      });
    });



  </script>


</head>
<body>
<aside class="col-sm-2" th:fragment="leftSidebar(${categoryList})">

  <div class="aside-inner">

    <div class="menu1 rounded-2" th:if="${session.user} == null">
      <div class="text-center pt-3">
        <p>로그인이 필요합니다.</p>
      </div>
      <div class="d-flex justify-content-center">
        <button type="button" class="btn btn-primary"><a href="/login" style="color: white">로그인</a></button>
      </div>
      <div class="row">
        <div class="d-flex justify-content-evenly text-center mt-2" style="font-size: small">
          <div class="col-sm-4">
            <a href="/signup">회원가입</a>
          </div>
          <p>|</p>
          <div class="col-sm-4">
            <a href="/">id/pw찾기</a>
          </div>
        </div>
      </div>
    </div>

    <div class="menu1 rounded-2" th:unless="${session.user} == null">
      <div class="text-center my-4">
        <span th:text="${session.user.userName}" style="font-size: 22px"></span>
        <span style="font-size: 14px"> 님 환영합니다.</span>
      </div>

      <div class="d-flex justify-content-center gap-3 mx-2 mb-3">
        <button type="button" class="btn btn-secondary px-1"><a href="/profile" style="font-size: 14px">마이페이지</a></button>
        <button id="btn-out" type="button" class="btn btn-outline-secondary px-1" style="font-size: 14px">로그아웃</button>
      </div>

    </div>

    <div class="menu2 mt-4 rounded-2">
      <ul>
        <li class="menu p-3 pe-0" id="toggle-menu">
          <div class="container">
            <div class="row">
              <div class="col-sm-9 p-0">
                <a href="/board/all">커뮤니티 게시판</a>
              </div>
              <div class="col-sm-3">
                <button id="btn-hide" type="button">-</button>
              </div>
            </div>
          </div>
        </li>
        <li class="hide py-2 ps-4" th:each="cate : ${categoryList}">
          <a id="href-category" th:href="@{/board(cateIdx=${cate.categoryIdx})}" th:text="${cate.categoryName}"></a>
        </li>
        <li class="menu p-3"><a href="" th:href="@{/board(cateIdx=5)}">게임뉴스</a></li>
        <li class="menu p-3"><a href="/game">게임리뷰</a></li>
        <li class="menu p-3"><a href="" th:href="@{/board(cateIdx=7)}">공지사항</a></li>
      </ul>
    </div>
  </div>
</aside>
</body>
</html>